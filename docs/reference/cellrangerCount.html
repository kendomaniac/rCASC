<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Cellranger count — cellrangerCount • rCASC</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Cellranger count — cellrangerCount" />
<meta property="og:description" content="This function takes FASTQ files from cellranger mkfastq and performs alignment, filtering, barcode counting, and UMI counting." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rCASC</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">5.1.8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/rCASC_vignette.html">rCASC vignette</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Cellranger count</h1>
    
    <div class="hidden name"><code>cellrangerCount.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function takes FASTQ files from cellranger mkfastq and performs alignment, filtering, barcode counting, and UMI counting.</p>
    </div>

    <pre class="usage"><span class='fu'>cellrangerCount</span><span class='op'>(</span>
  group <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"sudo"</span>, <span class='st'>"docker"</span><span class='op'>)</span>,
  <span class='va'>transcriptome.folder</span>,
  <span class='va'>fastq.folder</span>,
  sample <span class='op'>=</span> <span class='cn'>NULL</span>,
  expect.cells <span class='op'>=</span> <span class='cn'>NULL</span>,
  force.cells <span class='op'>=</span> <span class='cn'>NULL</span>,
  nosecondary <span class='op'>=</span> <span class='cn'>TRUE</span>,
  chemistry <span class='op'>=</span> <span class='st'>"auto"</span>,
  r1.length <span class='op'>=</span> <span class='cn'>NULL</span>,
  r2.length <span class='op'>=</span> <span class='cn'>NULL</span>,
  lanes <span class='op'>=</span> <span class='cn'>NULL</span>,
  localcores <span class='op'>=</span> <span class='cn'>NULL</span>,
  localmem <span class='op'>=</span> <span class='cn'>NULL</span>,
  <span class='va'>scratch.folder</span>,
  version <span class='op'>=</span> <span class='st'>"5"</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>group, </th>
      <td><p>a character string. Two options: sudo or docker, depending to which group the user belongs</p></td>
    </tr>
    <tr>
      <th>transcriptome.folder, </th>
      <td><p>path to the Cell Ranger compatible transcriptome reference e.g. for a human and mouse mixture sample, use refdata-cellranger-hg19-and-mm10-1.2.0</p></td>
    </tr>
    <tr>
      <th>fastq.folder, </th>
      <td><p>path of the fastq path folder in fastq folder the  fastq must have the format SAMPLENAME_S1_L001_R1_001.fastq.gz</p></td>
    </tr>
    <tr>
      <th>sample, </th>
      <td><p>fastq name, if fastq name is subject1_S1_L001_R1_001.fastq.gz sample is subject1</p></td>
    </tr>
    <tr>
      <th>expect.cells, </th>
      <td><p>optional setting the number of recovered cells. Default: 3000 cells.</p></td>
    </tr>
    <tr>
      <th>force.cells, </th>
      <td><p>optional to force pipeline to use this number of cells, bypassing the cell detection algorithm. Use this if the number of cells estimated by Cell Ranger is not consistent with the barcode rank plot.</p></td>
    </tr>
    <tr>
      <th>nosecondary, </th>
      <td><p>optional flag, default TRUE, to skip secondary analysis of the gene-barcode matrix (dimensionality reduction, clustering and visualization). Set this if you plan to use cellranger reanalyze or your own custom analysis.</p></td>
    </tr>
    <tr>
      <th>chemistry, </th>
      <td><p>optional assay configuration. One of: auto for autodetection (default), threeprime for Single Cell 3end, fiveprime for Single Cell 5end, SC3Pv1 for Single Cell 3end v1, SC3Pv2 for Single Cell 3end v2, SC5P-PE for Single Cell 5end paired-end (both R1 and R2 are used for alignment), SC5P-R2 for Single Cell 5end R2-only (where only R2 is used for alignment).</p></td>
    </tr>
    <tr>
      <th>r1.length, </th>
      <td><p>optional hard-trim the input R1 sequence to this length. Note that the length includes the Barcode and UMI sequences so do not set this below 26 for Single Cell 3end v2 or Single Cell 5end. This and --r2-length are useful for determining the optimal read length for sequencing.</p></td>
    </tr>
    <tr>
      <th>r2.length, </th>
      <td><p>optional hard-trim the input R2 sequence to this length.</p></td>
    </tr>
    <tr>
      <th>lanes, </th>
      <td><p>optional, lanes associated with this sample</p></td>
    </tr>
    <tr>
      <th>localcores, </th>
      <td><p>restricts cellranger to use specified number of cores to execute pipeline stages. By default, cellranger will use all of the cores available on your system.</p></td>
    </tr>
    <tr>
      <th>localmem, </th>
      <td><p>restricts cellranger to use specified amount of memory, in GB, to execute pipeline stages. By default, cellranger will use 90% of the memory available on your system. Please note that cellranger requires at least 16 GB of memory to run all pipeline stages.</p></td>
    </tr>
    <tr>
      <th>scratch.folder, </th>
      <td><p>a character string indicating the path of the scratch folder</p></td>
    </tr>
    <tr>
      <th>version, </th>
      <td><p>cellranger version: 2, 3 or 5.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a folder called results_cellranger, more info on the structure of this folder at https://support.10xgenomics.com/single-cell-gene-expression/software/pipelines/latest/output/overview . In /somewhewre_in_your_computer/results_cellranger/outs/filtered_gene_bc_matrices the cells counts matrices results_cellranger.cvs and results_cellranger.txt are saved for further use.</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Greta Romano, romano [dot] greta [at] gmail [dot] com, University of Torino</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='va'>home</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/getwd.html'>getwd</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>rCASC</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/getwd.html'>setwd</a></span><span class='op'>(</span><span class='st'>"/data/genomes/cellranger_hg19mm10"</span><span class='op'>)</span>
<span class='co'>#getting the human and mouse cellranger index</span>
<span class='fu'><a href='https://rdrr.io/r/base/system.html'>system</a></span><span class='op'>(</span><span class='st'>"wget http://cf.10xgenomics.com/supp/cell-exp/refdata-cellranger-hg19-and-mm10-2.1.0.tar.gz"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/utils/untar.html'>untar</a></span><span class='op'>(</span><span class='st'>"refdata-cellranger-hg19-and-mm10-2.1.0.tar.gz"</span><span class='op'>)</span> 
<span class='fu'><a href='https://rdrr.io/r/base/getwd.html'>setwd</a></span><span class='op'>(</span><span class='va'>home</span><span class='op'>)</span>
<span class='co'># 100 cells 1:1 Mixture of Fresh Frozen Human (HEK293T) and Mouse (NIH3T3) Cells</span>
<span class='fu'><a href='https://rdrr.io/r/base/system.html'>system</a></span><span class='op'>(</span><span class='st'>"wget http://cf.10xgenomics.com/samples/cell-exp/2.1.0/hgmm_100/hgmm_100_fastqs.tar"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/utils/untar.html'>untar</a></span><span class='op'>(</span><span class='st'>"hgmm_100_fastqs.tar"</span><span class='op'>)</span>
<span class='va'>home</span><span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span><span class='va'>home</span>,<span class='st'>"/fastqs"</span>,sep<span class='op'>=</span><span class='st'>""</span><span class='op'>)</span>
<span class='fu'>cellrangerCount</span><span class='op'>(</span>group<span class='op'>=</span><span class='st'>"docker"</span>,  transcriptome.folder<span class='op'>=</span><span class='st'>"/data/genomes/cellranger_hg19mm10/refdata-cellranger-hg19_and_mm10-2.1.0"</span>,  fastq.folder<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/getwd.html'>getwd</a></span><span class='op'>(</span><span class='op'>)</span>,  expect.cells<span class='op'>=</span><span class='fl'>100</span>, nosecondary<span class='op'>=</span><span class='cn'>TRUE</span>, scratch.folder<span class='op'>=</span><span class='st'>"/data/scratch"</span>, version<span class='op'>=</span><span class='st'>"2"</span><span class='op'>)</span>

<span class='fu'><a href='sraDownload.html'>sraDownload</a></span><span class='op'>(</span>group <span class='op'>=</span> <span class='st'>"docker"</span>, sra.name <span class='op'>=</span> <span class='st'>"SRR7762358"</span>, data.folder <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/getwd.html'>getwd</a></span><span class='op'>(</span><span class='op'>)</span>, scratch.folder <span class='op'>=</span> <span class='st'>"/data/scratch"</span>, threads <span class='op'>=</span> <span class='fl'>8</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/system.html'>system</a></span><span class='op'>(</span><span class='st'>"mv ./SRR7762358/SRR7762358.fastq.gz ./SRR7762358/SRR7762358_S1_L001_R1_001.fastq.gz"</span><span class='op'>)</span>
<span class='fu'>cellrangerCount</span><span class='op'>(</span>group<span class='op'>=</span><span class='st'>"docker"</span>,  transcriptome.folder<span class='op'>=</span><span class='st'>"/data/genomes/refdata-cellranger-GRCh38-3.0.0"</span>,  fastq.folder<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/getwd.html'>getwd</a></span><span class='op'>(</span><span class='op'>)</span>, sample<span class='op'>=</span><span class='st'>"SRR7762358"</span>,  nosecondary<span class='op'>=</span><span class='cn'>TRUE</span>, scratch.folder<span class='op'>=</span><span class='st'>"/data/scratch"</span>, version<span class='op'>=</span><span class='st'>"3"</span><span class='op'>)</span>

<span class='op'>}</span>


</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Raffaele Calogero, Luca Alessandri, Marco Beccuti.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


